<%# -*- coding: utf-8 -*- %>
<header class="bg-dark py-5">
  <div class="container px-4 px-lg-5 my-5">
    <div class="text-center text-white">
      <h1 class="display-4 fw-bolder">おにぎりや</h1>
      <p class="lead fw-normal text-white-50 mb-0">美味しい冷凍おにぎりを！</p>
    </div>
  </div>
</header>
<section class="py-5">
  <div class="container px-4 px-lg-5 mt-5">
    <div class="row gx-4 gy-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center">
      <% @products.each do |product| %>
        <div class="col mb-5">
          <div class="card h-100">
            <!-- Product image -->
            <%= link_to product_path(product) do %>
              <% if product.image.attached? %>
                <%= image_tag product.image.variant(resize_to_limit: [300, 300]).processed, alt: (product.name.presence || 'No name available'), class: 'card-img-top' %>
              <% else %>
                <%= image_tag 'https://via.placeholder.com/300', alt: 'No Image Available', class: 'card-img-top' %>
              <% end %>
            <% end %>
            <!-- Product details -->
            <div class="card-body p-4">
              <div class="text-center">
                <!-- Product name -->
                <h5 class="fw-bolder"><%= (product.name.presence || "No name available").to_s %></h5>
                <!-- Product price -->
                <%= number_to_currency(product.price, unit: "¥", precision: 0) %>
              </div>
            </div>
            <!-- Product actions -->
            <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
              <div class="text-center">
                <%= link_to 'View options', product_path(product), class: "btn btn-outline-dark mt-auto" %>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    </div>
    <% if @products.empty? %>
      <div class="alert alert-info text-center">
        <%= t('.no_products', default: '商品が登録されていません') %>
      </div>
    <% end %>
  </div>
</section>
